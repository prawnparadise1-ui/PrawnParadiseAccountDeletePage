<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import {
    getAuth,
    signInWithPhoneNumber,
    RecaptchaVerifier
  } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

  const firebaseConfig = {
      apiKey: "AIzaSyBNyDnZd2bEanSFPGu7xMgEq04g_mLXRiU",
      authDomain: "testappd-bfd14.firebaseapp.com",
      projectId: "testappd-bfd14",
      appId: "1:1065516210854:web:e8c5c22a075728927d7267"
    };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.recaptchaVerifier = new RecaptchaVerifier("recaptcha-container", {
    size: "invisible"
  }, auth);

  window.sendCode = function () {
    const phone = document.getElementById("phone").value;
    signInWithPhoneNumber(auth, phone, window.recaptchaVerifier)
      .then((confirmationResult) => {
        window.confirmationResult = confirmationResult;
        alert("Code sent!");
      })
      .catch((error) => {
        console.error("SMS error:", error);
        alert("Error: " + error.message);
      });
  };

</script>
